<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Campus Bite | Muni University</title>
  <meta name="description" content="Campus Bite lets students locate and order affordable meals, drinks, and snacks with fast on-campus delivery. Easy ordering, live budget tracking, and quick checkout.">
  <meta name="keywords" content="Campus Bite, campus food, student meals, food delivery, muni, muni university, cheap meals, university food app">

  <!-- changing apperance for social media preview -->
  <meta property="og:title" content="Campus Bite | Muni University">
  <meta property="og:description" content="Locate and order meals and snacks, delivered fast on campus.">
  <meta property="og:image" content="images/tent.jpeg">
  <meta property="og:url" content="https://sykar-web.github.io/campus-bite/">
  <meta property="og:type" content="website">

  <link rel="icon" href="images/tent.jpeg" type="image/jpeg">
  <link rel="shortcut icon" href="images/tent.jpeg" type="image/jpeg">
  <!-- Apple / iOS icon (optional but good) -->
  <link rel="apple-touch-icon" href="images/tent.jpeg">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Poppins", sans-serif; }
    body {
      height: 100vh;
      background: url("https://images.unsplash.com/photo-1551782450-a2132b4ba21d?auto=format&fit=crop&w=1950&q=80") center/cover no-repeat;
      display: flex; justify-content: center; align-items: center; position: relative; color: #fff;
    }
    .overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.45); }
    .container { position: relative; z-index: 1; width: 100%; display: flex; justify-content: center; align-items: center; padding: 20px; }
    .login-card {
      background: rgba(255,255,255,0.1); backdrop-filter: blur(10px);
      border-radius: 16px; padding: 40px 35px; width: 340px; text-align: center; box-shadow: 0 8px 20px rgba(0,0,0,0.4);
    }
    .title { font-size: 2rem; font-weight: 700; color: #ff914d; margin-bottom: 10px; }
    .subtitle { font-size: 0.9rem; color: #fff5ee; margin-bottom: 25px; }
    .input-group { position: relative; width: 100%; }
    input { width: 100%; padding: 12px 14px; margin: 8px 0; border: none; border-radius: 8px; outline: none; font-size: 0.95rem; }
    .toggle-eye {
      position: absolute; right: 12px; top: 50%; transform: translateY(-50%);
      cursor: pointer; font-size: 1.1rem; color: #555;
    }
    button {
      width: 100%; padding: 12px; margin-top: 10px; border: none; border-radius: 8px; background: #ff914d; color: #fff; font-size: 1rem; cursor: pointer; transition: 0.3s;
    }
    button:hover { background: #ff6a00; }
    button.secondary { background: transparent; border: 2px solid #ff914d; color: #ff914d; }
    button.secondary:hover { background: #ff914d; color: #fff; }
    p a { color: #ff914d; text-decoration: none; font-weight: 600; }
    p a:hover { text-decoration: underline; }
    @media (max-width: 480px) { .login-card { width: 90%; padding: 30px 20px; } .title { font-size: 1.7rem; } }
  </style>
</head>
<body>
  <div class="overlay"></div>

  <div class="container">
    <div class="login-card">
      <h1 class="title">Campus Bite üçΩÔ∏è</h1>
      <p class="subtitle">Plan your meals, save your budget.</p>

      <input type="email" id="email" placeholder="Email address" />

      <!-- Password field with eye toggle -->
      <div class="input-group">
        <input type="password" id="password" placeholder="Password" />
        <span class="toggle-eye" id="togglePassword">üëÅÔ∏è</span>
      </div>

      <button id="loginBtn">Login</button>
      <button id="signupBtn" class="secondary">Sign Up</button>
      <button id="forgotPasswordBtn" class="secondary">Forgot Password?</button>
    </div>
  </div>

  <footer style="position: absolute; bottom: 10px; width: 100%; text-align: center; color: #fff5ee; font-size: 0.85rem;">
    Campus Bite | Muni University &copy All rights reserved. </footer>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
    import { getAuth, signInWithEmailAndPassword, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyATGWLqyjWJUaDXwudubIc_Hvh5yPVDyOI",
      authDomain: "campus-bite-9dbaa.firebaseapp.com",
      projectId: "campus-bite-9dbaa",
      storageBucket: "campus-bite-9dbaa.appspot.com",
      messagingSenderId: "294389261625",
      appId: "1:294389261625:web:095d6e5f85f4e8"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    const loginBtn = document.getElementById("loginBtn");
    const signupBtn = document.getElementById("signupBtn");
    const forgotPasswordBtn = document.getElementById("forgotPasswordBtn");
    const togglePassword = document.getElementById("togglePassword");
    const passwordInput = document.getElementById("password");

    // Toggle password visibility
    togglePassword.addEventListener("click", () => {
      const type = passwordInput.getAttribute("type") === "password" ? "text" : "password";
      passwordInput.setAttribute("type", type);
      togglePassword.textContent = type === "password" ? "üëÅÔ∏è" : "üôà";
    });

    // Login
    loginBtn.addEventListener("click", async () => {
      const email = document.getElementById("email").value.trim();
      const password = passwordInput.value.trim();
      if (!email || !password) return alert("Enter both email and password.");

      try {
        await signInWithEmailAndPassword(auth, email, password);
        window.location.href = "home.html"; // redirect to your main app
      } catch (error) {
        if (error.code === "auth/user-not-found") {
          alert("No account found. Please sign up first.");
        } else if (error.code === "auth/wrong-password") {
          alert("Incorrect password. Try again.");
        } else {
          alert("Login failed: " + error.message);
        }
      }
    });

    // Signup redirect
    signupBtn.addEventListener("click", () => {
      window.location.href = "signup.html";
    });

    // Forgot password
    forgotPasswordBtn.addEventListener("click", async () => {
      const email = document.getElementById("email").value.trim();
      if (!email) return alert("Please enter your email to reset password.");

      try {
        await sendPasswordResetEmail(auth, email);
        alert("Password reset email sent! Check your inbox.");
      } catch (error) {
        alert("Error: " + error.message);
      }
    });
  </script>
</body>
</html>